.*   ARLFREEM MACRO 27.8.90  (SOURCE:N.W)
.* AFTER ACTIVATING THIS MACRO R1 IS UNKNOWN
.* PARAMETERS:
.*  FREETYPE - TYPE OF FREE MAIN (R,RC,RU)
.*  LEN      - LENGTH OF THE AREA TO BE FREE
.*  AREA     - POINTER TO THE AREA TO BE FREE
.*  ERRLABEL - LABEL TO JUMP OVER IF FAILED IN FREEMAIN
.*
         MACRO
&NAME    ARLFREEM  &FREETYPE=RC,&LEN=,&AREA=(R1),&ERRLABEL=FAILFREE,   *
               &SAVEREG=R5
&NAME    LR    &SAVEREG,R15
         FREEMAIN &FREETYPE,LV=&LEN,A=&AREA
         AIF ('&ERRLABEL' EQ '').END
         LTR   R15,R15
         BNZ   &ERRLABEL
.END     LR    R15,&SAVEREG
         MEND
